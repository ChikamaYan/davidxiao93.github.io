<!DOCTYPE HTML>
<!--
	Based Upon Landed by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Engduino Bluetooth For Android</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="../../assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="../../assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="../../assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="../../assets/css/ie8.css" /><![endif]-->
		
		<!-- SEO Stuff -->
		<META NAME="description" CONTENT="A page about a mini project where I worked with a friend to get an Engduino to communicate with Android via Cordova in TouchDevelop">
		<META NAME="keyword" CONTENT="TouchDevelop,Cordova,Engduino,Cordova,david,xiao,xiao93,davidxiao,davidxiao93,ucl,computer,science,compsci">
			
		<!-- favicon stuff -->
		<link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico">
	</head>
	<body>
		<div id="page-wrapper">
			<!-- EngduinoBluetooth -->
				<section id="EngduinoBluetooth" class="wrapper style1">
					<div class="container">
						<header class="major">
							<h2>Engduino Bluetooth For Android</h2>
						</header>
						<!-- Content -->
							<section id="content">
								
								<img class="image dsOnly" src="../../assets/loader.gif" data-src="EngduinoBluetooth/engduino.jpg" alt="" />
								<p>As part of the ENGS101P module, we were tasked with creating a Coding Curriculum using TouchDevelop. In order to make it engaging to younger students, we were given a scenario where the students needed to create a "pot hole sensor" using a phone running TouchDevelop and an Engduino. My task was to work out how to get the Bluetooth connection to communicate with an Engduino with a Bluetooth module installed.</p>
								
								<p>In order for TouchDevelop to be able to use the Bluetooth radio on the phone, it needed to be exported via Cordova to generate a (more) native application. However I had multiple problems in attempting to achieve this. I worked with fellow Student Computer Scienctist Robert Soultanaev to work out where the problem was.</p>
								
								<p>We knew that the problem was not hardware. We deduced this by downloading native Android applications that showed serial communication via Bluetooth, and could see that the Engduino was able to process commands, and send back data. Thus we knew that the issue must be caused either by the Cordova plugin that was being used, or by the TouchDevelop library that wraps the Cordova Plugin. </p>
								
								<p>We got in touch with a Microsoft employee we knew as Peli, and we were able to assist him in fixing his implementation of the TouchDevelop wrapper library for the Cordova plugin. Whilst this was happening, Robert took the extra step of contacting the developer behind the Cordova plugin itself, who provided a very useful insight into how the plugin worked. He even suggested potential reasons why the plugin was not working for us, which Robert passed onto Peli.</p>
							
								<p>After the TouchDevelop library was fixed, we we able to get the Engduino to communicate with the Android app freely. Now, we faced a different issue, how to get data back. We noticed that we were successful in getting the Engduino to send data over the serial, but for some reason, the application wouldn't report the data. I then discovered that the reason was a difference in delimiter. </p>
								
								<img class="image dsOnly" src="../../assets/loader.gif" data-src="EngduinoBluetooth/delimitercode.jpg" alt="" />
								<p>Peli's sample application assumed that the delimiter was the new line character, when experimentation with the native Bluetooth terminals showed me that this wasn't the case. Once I changed the delimiter, the information was clearly shown, and the strings were ready for parsing.</p>
								
								<div style="margin: 1em auto; max-height:720px; maxwidth:1280px; overflow:hidden;">
									<div class="responsive-container">
										<iframe width="1920" height="1080" src="" data-src="https://www.youtube.com/embed/utCvSYz9OCg" frameborder="0" allowfullscreen></iframe>
									</div>
								</div>
								
								<p>I am happy with how this project turned out. It gave me an insight into how Bluetooth serial communications worked and serial communications in general. It also gave me an opportunity to use Cordova to be able to export to multiple platforms with a single code base.</p>
								
						
							</section>
					</div>
				</section>
				
			<!-- Nav -->
				<script type="text/javascript" src="../../assets/js/scripts.js"></script>
				<script type='text/javascript' > 
					var rootPath = '../../'; 
				</script>
				<script type="text/javascript">writeNav()</script>
				
			<!-- Footer -->
				<script type="text/javascript">writeFooter()</script>

		</div>

		<!-- Scripts -->
			<script type="text/javascript">writeScripts()</script>
			
		<!-- Image expanding handlers -->
			<script type='text/javascript' > 
				$(".dsOnly").one("click", expandImage);
			</script>

	</body>
</html>